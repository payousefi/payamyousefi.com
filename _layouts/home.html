---
layout: default
---

<section class="home">

  <section class="categories wrapper">

    <nav class="category-list" aria-label="Portfolio categories">
      {% for cat_id in site.category_order %}
        {% assign cat_config = site.categories_config[cat_id] %}
        {% assign has_visible_posts = false %}
        {% if site.categories[cat_id] and cat_config %}
          {% for post in site.categories[cat_id] %}
            {% unless post.archived %}
              {% assign has_visible_posts = true %}
              {% break %}
            {% endunless %}
          {% endfor %}
        {% endif %}
        {% if has_visible_posts %}
          <a href="{{ '/' | relative_url }}{{ cat_config.slug }}" data-category="{{ cat_id }}" data-slug="{{ cat_config.slug }}">
            {{ cat_config.name }}
          </a>
        {% endif %}
      {% endfor %}
    </nav>

  </section>

  <section class="portfolio">

    {% assign found_first_visible_cat = false %}
    {% for cat_id in site.category_order %}
      {% assign cat_posts = site.categories[cat_id] | sort: "lastModifiedDate" | reverse %}
      {% assign has_visible_posts = false %}
      {% if cat_posts %}
        {% for post in cat_posts %}
          {% unless post.archived %}
            {% assign has_visible_posts = true %}
            {% break %}
          {% endunless %}
        {% endfor %}
      {% endif %}
      {% if has_visible_posts %}
      {% if found_first_visible_cat == false %}
        {% assign is_first = true %}
        {% assign found_first_visible_cat = true %}
      {% else %}
        {% assign is_first = false %}
      {% endif %}
      <section class="tab-{{ cat_id }}" aria-hidden="{% if is_first %}false{% else %}true{% endif %}" style="transform: translate3d(0%, 0px, 0px);{% unless is_first %} height: 0;{% endunless %}">

        {% for post in cat_posts %}
          {% unless post.archived %}
          {% if post.url %}
          <section class="portfolio-post">

            <section class="thumb">

              {% for type in post.img %}
                <a href="{{ post.url | relative_url }}"{% unless is_first %} tabindex="-1"{% endunless %}><figure class="post-image">

                    {% if type.first == 'browser' and post.img.mobile %}
                      {% for src in post.img.mobile %}
                        {% assign urls = src | split:',' %}
                        {% for url in urls %}
                          <div class="{{ type | first}}-mockup side">
                            {% picture {{ type[1] | first | split:"," | first }} --alt Screenshot of {{ post.title | strip_html }} %}
                          </div>
                          <div class="mobile-mockup side">{% picture {{ url }} --alt Mobile screenshot of {{ post.title | strip_html }} %}<span class="home-indicator"></span></div>
                          {% break %}
                        {% endfor %}
                        {% break %}
                      {% endfor %}
                    {% else %}

                      <div class="{{ type | first}}-mockup">
                        {% picture {{ type[1] | first | split:"," | first }} --alt Screenshot of {{ post.title | strip_html }} %}
                      </div>

                    {% endif %}


                </figure></a>
                {% break %}
              {% endfor %}

            </section>

            <section class="detail">

              <h2>
                <a class="post-link" href="{{ post.url | relative_url }}"{% unless is_first %} tabindex="-1"{% endunless %}>{{ post.title | escape }}</a>
              </h2>

              <p class="post-desc">
                {{ post.excerpt | strip_html | escape }}
              </p>

              <ul class="tags">
                {% if post.lastModifiedDate and post.createdDate %}
                  {% assign modified = post.lastModifiedDate | date: "%s" | plus: 0 %}
                  {% assign created = post.createdDate | date: "%s" | plus: 0 %}
                  {% if modified > created %}
                    <li class="updated-tag">Updated</li>
                  {% endif %}
                {% endif %}
                {% for tag in post.tags %}
                  <li>
                    {{ tag }}
                  </li>
                {% endfor %}
              </ul>

            </section>

          </section>
          {% endif %}
          {% endunless %}
        {% endfor %}
      </section>
      {% endif %}
    {% endfor %}

  </section>

</section>
